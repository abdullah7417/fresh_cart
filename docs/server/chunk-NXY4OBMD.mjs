import './polyfills.server.mjs';
import{a as K}from"./chunk-7JH3SKJE.mjs";import{c as D,d as A}from"./chunk-JBUZYEQU.mjs";import{a as G,b as C,c as $,d as j,h as k,i as O,j as z,k as H,m as J}from"./chunk-WAQ6KLHP.mjs";import"./chunk-PQSTYRC2.mjs";import{G as V,f as L}from"./chunk-FQA2SOH3.mjs";import{Gb as o,Hb as a,Ib as N,Nb as M,Qa as i,Qb as I,Tb as s,Ub as m,Y as B,aa as P,fb as h,hb as v,lb as g,pb as l,qb as r,rb as E,yb as q,zb as x}from"./chunk-3ISFVPN5.mjs";import"./chunk-VVCT4QZE.mjs";var b=(e,p)=>({"is-valid":e,"is-invalid":p});function Q(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.name Is Requird")))}function U(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Name sould be more than or equal 3 chars")))}function W(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Name sould be less than or equal 20 chars")))}function X(e,p){if(e&1&&(l(0,"div",6),h(1,Q,3,3,"p",18)(2,U,3,3)(3,W,3,3),r()),e&2){let n,d=x();i(),g(1,(n=d.resgisterForm.get("name"))!=null&&n.getError("required")?1:(n=d.resgisterForm.get("name"))!=null&&n.getError("minlength")?2:(n=d.resgisterForm.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function Y(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Email Is Requird")))}function Z(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Enter Valid Email")))}function ee(e,p){if(e&1&&(l(0,"div",6),h(1,Y,3,3,"p",18)(2,Z,3,3),r()),e&2){let n,d=x();i(),g(1,(n=d.resgisterForm.get("email"))!=null&&n.getError("required")?1:(n=d.resgisterForm.get("email"))!=null&&n.getError("email")?2:-1)}}function te(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.password Is Requird")))}function ie(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Enter Valid password")))}function ne(e,p){if(e&1&&(l(0,"div",6),h(1,te,3,3,"p",18)(2,ie,3,3),r()),e&2){let n,d=x();i(),g(1,(n=d.resgisterForm.get("password"))!=null&&n.getError("required")?1:(n=d.resgisterForm.get("password"))!=null&&n.getError("pattern")?2:-1)}}function re(e,p){e&1&&(l(0,"p",13),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Password Confirmation Is Incorrect")))}function le(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.phone Is Requird")))}function oe(e,p){e&1&&(l(0,"p",18),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Enter Valid phone")))}function ae(e,p){if(e&1&&(l(0,"div",6),h(1,le,3,3,"p",18)(2,oe,3,3),r()),e&2){let n,d=x();i(),g(1,(n=d.resgisterForm.get("phone"))!=null&&n.getError("required")?1:(n=d.resgisterForm.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function se(e,p){e&1&&(l(0,"span"),E(1,"i",19),r())}function me(e,p){if(e&1&&(l(0,"p",13),o(1),r()),e&2){let n=x();i(),a(n.errorMsg)}}function pe(e,p){e&1&&(l(0,"p",17),o(1),s(2,"translate"),r()),e&2&&(i(),a(m(2,1,"register.Successful Register")))}var Ee=(()=>{class e{constructor(){this._FormBuilder=B(H),this._AuthService=B(K),this._Router=B(V),this.errorMsg="",this.SuccessMsg=!1,this.isLoading=!1,this.resgisterForm=this._FormBuilder.group({name:[null,[C.required,C.minLength(3),C.maxLength(20)]],email:[null,[C.required,C.email]],password:[null,[C.required,C.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[C.required,C.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword})}confirmPassword(n){return n.get("password")?.value==n.get("rePassword")?.value?null:{mismatch:!0}}registerSubmit(){this.resgisterForm.valid&&(this.isLoading=!0,this.registerSub=this._AuthService.setRegisterForm(this.resgisterForm.value).subscribe({next:n=>{console.log(n),this.isLoading=!1,n.message=="success"&&(this.SuccessMsg=!0,setTimeout(()=>{this._Router.navigate(["/login"])},2e3))},error:n=>{this.errorMsg=n.error.message,console.log(n),this.isLoading=!1}}))}ngOnDestroy(){this.registerSub?.unsubscribe()}static{this.\u0275fac=function(d){return new(d||e)}}static{this.\u0275cmp=P({type:e,selectors:[["app-register"]],standalone:!0,features:[M],decls:41,vars:51,consts:[[1,"bg-main-light","shadow","my-2","rounded-4"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50","m-0"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control",3,"ngClass"],[1,"btn-main","d-block","ms-auto",3,"disabled"],[1,"aler","alert-success","w-50","m-0"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(d,t){if(d&1&&(l(0,"section",0)(1,"h1",1),o(2),s(3,"translate"),r(),l(4,"form",2),q("ngSubmit",function(){return t.registerSubmit()}),l(5,"div",3)(6,"label",4),o(7),s(8,"translate"),r(),E(9,"input",5),h(10,X,4,1,"div",6),r(),l(11,"div",3)(12,"label",7),o(13),s(14,"translate"),r(),E(15,"input",8),h(16,ee,3,1,"div",6),r(),l(17,"div",3)(18,"label",9),o(19),s(20,"translate"),r(),E(21,"input",10),h(22,ne,3,1,"div",6),r(),l(23,"div",3)(24,"label",11),o(25),s(26,"translate"),r(),E(27,"input",12),h(28,re,3,3,"p",13),r(),l(29,"div",3)(30,"label",14),o(31),s(32,"translate"),r(),E(33,"input",15),h(34,ae,3,1,"div",6),r(),l(35,"button",16),o(36),s(37,"translate"),h(38,se,2,0,"span"),r(),h(39,me,2,1,"p",13)(40,pe,3,3,"p",17),r()()),d&2){let u,w,c,S,_,y,F,T,f,R;i(2),a(m(3,22,"register.Register Now:")),i(2),v("formGroup",t.resgisterForm),i(3),a(m(8,24,"register.name")),i(2),v("ngClass",I(36,b,!((u=t.resgisterForm.get("name"))!=null&&u.errors)&&(((u=t.resgisterForm.get("name"))==null?null:u.touched)||((u=t.resgisterForm.get("name"))==null?null:u.dirty)),((u=t.resgisterForm.get("name"))==null?null:u.errors)&&(((u=t.resgisterForm.get("name"))==null?null:u.touched)||((u=t.resgisterForm.get("name"))==null?null:u.dirty)))),i(),g(10,(w=t.resgisterForm.get("name"))!=null&&w.errors&&((w=t.resgisterForm.get("name"))!=null&&w.touched||(w=t.resgisterForm.get("name"))!=null&&w.dirty)?10:-1),i(3),a(m(14,26,"register.email")),i(2),v("ngClass",I(39,b,!((c=t.resgisterForm.get("email"))!=null&&c.errors)&&(((c=t.resgisterForm.get("email"))==null?null:c.touched)||((c=t.resgisterForm.get("email"))==null?null:c.dirty)),((c=t.resgisterForm.get("email"))==null?null:c.errors)&&(((c=t.resgisterForm.get("email"))==null?null:c.touched)||((c=t.resgisterForm.get("email"))==null?null:c.dirty)))),i(),g(16,(S=t.resgisterForm.get("email"))!=null&&S.errors&&((S=t.resgisterForm.get("email"))!=null&&S.touched||(S=t.resgisterForm.get("email"))!=null&&S.dirty)?16:-1),i(3),a(m(20,28,"register.password")),i(2),v("ngClass",I(42,b,!((_=t.resgisterForm.get("password"))!=null&&_.errors)&&(((_=t.resgisterForm.get("password"))==null?null:_.touched)||((_=t.resgisterForm.get("password"))==null?null:_.dirty)),((_=t.resgisterForm.get("password"))==null?null:_.errors)&&(((_=t.resgisterForm.get("password"))==null?null:_.touched)||((_=t.resgisterForm.get("password"))==null?null:_.dirty)))),i(),g(22,(y=t.resgisterForm.get("password"))!=null&&y.errors&&((y=t.resgisterForm.get("password"))!=null&&y.touched||(y=t.resgisterForm.get("password"))!=null&&y.dirty)?22:-1),i(3),a(m(26,30,"register.rePassword")),i(2),v("ngClass",I(45,b,!t.resgisterForm.getError("mismatch")&&(((F=t.resgisterForm.get("rePassword"))==null?null:F.touched)||((F=t.resgisterForm.get("rePassword"))==null?null:F.dirty)),t.resgisterForm.getError("mismatch")&&(((F=t.resgisterForm.get("rePassword"))==null?null:F.touched)||((F=t.resgisterForm.get("rePassword"))==null?null:F.dirty)))),i(),g(28,t.resgisterForm.getError("mismatch")&&((T=t.resgisterForm.get("rePassword"))!=null&&T.touched||(T=t.resgisterForm.get("rePassword"))!=null&&T.dirty)?28:-1),i(3),a(m(32,32,"register.phone")),i(2),v("ngClass",I(48,b,!((f=t.resgisterForm.get("phone"))!=null&&f.errors)&&(((f=t.resgisterForm.get("phone"))==null?null:f.touched)||((f=t.resgisterForm.get("phone"))==null?null:f.dirty)),((f=t.resgisterForm.get("phone"))==null?null:f.errors)&&(((f=t.resgisterForm.get("phone"))==null?null:f.touched)||((f=t.resgisterForm.get("phone"))==null?null:f.dirty)))),i(),g(34,(R=t.resgisterForm.get("phone"))!=null&&R.errors&&((R=t.resgisterForm.get("phone"))!=null&&R.touched||(R=t.resgisterForm.get("phone"))!=null&&R.dirty)?34:-1),i(),v("disabled",t.resgisterForm.invalid||t.isLoading),i(),N(" ",m(37,34,"register.Register")," "),i(2),g(38,t.isLoading?38:-1),i(),g(39,t.errorMsg?39:-1),i(),g(40,t.SuccessMsg?40:-1)}},dependencies:[J,k,G,$,j,O,z,L,A,D]})}}return e})();export{Ee as RegisterComponent};
